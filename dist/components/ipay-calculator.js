import{i as n}from"./logo-24c30259.js";const t="http://185.25.151.171:8411",e=`${t}/new-individual-application`,i=`${t}/new-company-application`;class o extends HTMLElement{static get observedAttributes(){return["id","price","url","count","name","email","phone","delivery_price","product_id","tax"]}constructor(){super(),this.attachShadow({mode:"open"}),this.clientType="individual",this.months=10}connectedCallback(){this.shadowRoot||this.attachShadow({mode:"open"}),this.render(),this.addEventListeners()}addEventListeners(){this.shadowRoot.querySelectorAll(".tab").forEach(n=>{n.addEventListener("click",()=>{const t=n.getAttribute("data-tab");"individual"!==t&&"business"!==t||(this.clientType=t,this.render(),this.addEventListeners())})});const n=this.shadowRoot.querySelector(".slider");n?.addEventListener("input",n=>{this.months=parseInt(n.target.value),this.updateSliderTooltip(),this.updateMonthlyRate(),this.updateBadge()});const t=this.shadowRoot.querySelector(".iraty-button");t?.addEventListener("click",()=>{this.handleClick()})}calculateMonthlyRate(){const n=parseFloat(this.getAttribute("price"))||0,t=parseFloat(this.getAttribute("tax"))||0;if(0===t||!this.getAttribute("tax"))return n/this.months;return n*(1+t/100)/this.months}formatCurrency(n){return new Intl.NumberFormat("pl-PL",{minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}updateMonthlyRate(){const n=this.shadowRoot.querySelector(".monthly-rate");if(n){const t=this.calculateMonthlyRate();n.textContent=`${this.formatCurrency(t)} zł`}}updateSliderTooltip(){const n=this.shadowRoot.querySelector(".slider-tooltip"),t=this.shadowRoot.querySelector(".slider-wrapper");if(n&&t){const e=(this.months-6)/54*100;n.style.left=`${e}%`,n.textContent=this.months,t.style.setProperty("--slider-progress",`${e}%`)}}updateBadge(){const n=0===(parseFloat(this.getAttribute("tax"))||0),t=this.shadowRoot.querySelector(".badge");n?t?(t.textContent=`${this.months} rat 0%`,t.classList.remove("hidden")):(this.render(),this.addEventListeners()):t&&t.classList.add("hidden")}handleClick(){const n=this.getAttribute("id"),t=this.getAttribute("price"),o=this.getAttribute("count"),a=this.getAttribute("url"),r=this.getAttribute("name"),s=this.getAttribute("email"),d=this.getAttribute("phone"),p=this.getAttribute("delivery_price"),l=this.getAttribute("product_id"),h=new URLSearchParams;n&&h.append("id",n),t&&h.append("price",t),o&&h.append("count",o),a&&h.append("url",a),r&&h.append("name",r),s&&h.append("email",s),d&&h.append("phone",d),p&&h.append("delivery_price",p),l&&h.append("product_id",l),h.append("months",this.months),h.append("client_type",this.clientType);const c="individual"===this.clientType?`${e}?${h.toString()}`:`${i}?${h.toString()}`;window.open(c,"_blank")}render(){if(!this.shadowRoot)return;const t=this.calculateMonthlyRate(),e=(this.months-6)/54*100,i=0===(parseFloat(this.getAttribute("tax"))||0);this.shadowRoot.innerHTML=`\n        <style>\n          :host {\n            display: block;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            width: 100%;\n            max-width: 400px;\n            min-width: 300px;\n            min-height: 300px;\n            margin: 0 auto;\n            box-sizing: border-box;\n          }\n\n          * {\n            box-sizing: border-box;\n          }\n\n          .calculator-container {\n            padding: 0;\n            width: 100%;\n            min-height: 300px;\n            display: flex;\n            flex-direction: column;\n          }\n\n          /* Section 1: Tabs */\n          .tabs-section {\n            margin-bottom: 16px;\n            padding: 16px 20px;\n            background: white;\n            border: 1px solid #E5E7EB;  \n            border-radius: 12px;\n            box-shadow: 0px 4.99px 6.24px 0px #0000000F;\n          }\n\n          .tabs {\n            display: flex;\n            gap: 8px;\n          }\n\n          .tab {\n            flex: 1;\n            padding: 12px 16px;\n            border-radius: 8px;\n            border: none;\n            background: white;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 8px;\n            font-size: 14px;\n            font-weight: 500;\n            color: #6B7280;\n            transition: all 0.2s ease;\n            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);\n          }\n\n          .tab:hover:not(.active) {\n            background: #F9FAFB;\n          }\n\n          .tab.active {\n            background: #003574;\n            color: white;\n            box-shadow: 0 2px 4px rgba(0, 53, 116, 0.2);\n          }\n\n          .tab-icon {\n            width: 16px;\n            height: 16px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n\n          .tab-icon svg {\n            width: 100%;\n            height: 100%;\n          }\n\n          /* Section 2: Monthly Rate Section */\n          .rate-section {\n            padding: 24px 20px;\n            background: white;\n            flex: 1;\n            display: flex;\n            flex-direction: column;\n            border: 1px solid #E5E7EB;  \n            border-radius: 12px;\n            box-shadow: 0px 4.99px 6.24px 0px #0000000F;\n          }\n\n          .rate-title {\n            font-size: 14px;\n            color: #6B7280;\n            margin-bottom: 16px;\n            font-weight: 400;\n          }\n\n          .monthly-rate {\n            font-size: 36px;\n            font-weight: 700;\n            color: #003574;\n            margin-bottom: 24px;\n            line-height: 1.2;\n          }\n\n          /* Slider */\n          .slider-container {\n            position: relative;\n            margin-top: auto;\n          }\n\n          .slider-wrapper {\n            position: relative;\n            height: 40px;\n            margin-bottom: 8px;\n            display: flex;\n            align-items: center;\n          }\n\n          .slider {\n            width: 100%;\n            height: 6px;\n            border-radius: 3px;\n            background: transparent;\n            outline: none;\n            -webkit-appearance: none;\n            appearance: none;\n            position: relative;\n            z-index: 2;\n            margin: 0;\n            padding: 0;\n          }\n\n          /* Webkit browsers (Chrome, Safari, Edge) */\n          .slider::-webkit-slider-runnable-track {\n            width: 100%;\n            height: 6px;\n            border-radius: 3px;\n            background: transparent;\n          }\n\n          .slider-wrapper::before {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 0;\n            transform: translateY(-50%);\n            height: 6px;\n            background: #E5E7EB;\n            border-radius: 3px;\n            width: 100%;\n            pointer-events: none;\n            z-index: 0;\n          }\n\n          .slider-wrapper::after {\n            content: '';\n            position: absolute;\n            top: 50%;\n            left: 0;\n            transform: translateY(-50%);\n            height: 6px;\n            background: #003574;\n            border-radius: 3px;\n            width: var(--slider-progress, 0%);\n            pointer-events: none;\n            z-index: 1;\n          }\n\n          .slider::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            background: #003574;\n            cursor: pointer;\n            margin-top: -7px;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n            position: relative;\n            z-index: 3;\n          }\n\n          /* Firefox */\n          .slider::-moz-range-track {\n            width: 100%;\n            height: 6px;\n            border-radius: 3px;\n            background: #E5E7EB;\n            border: none;\n          }\n\n          .slider::-moz-range-progress {\n            height: 6px;\n            border-radius: 3px 0 0 3px;\n            background: #003574;\n            border: none;\n          }\n\n          .slider::-moz-range-thumb {\n            width: 20px;\n            height: 20px;\n            border-radius: 50%;\n            background: #003574;\n            cursor: pointer;\n            border: none;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);\n            position: relative;\n            z-index: 3;\n          }\n\n          .slider-track {\n            display: none;\n          }\n\n          .slider-tooltip {\n            position: absolute;\n            top: -32px;\n            transform: translateX(-50%);\n            background: white;\n            color: #003574;\n            padding: 4px 10px;\n            border-radius: 4px;\n            font-size: 12px;\n            font-weight: 600;\n            white-space: nowrap;\n            pointer-events: none;\n            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n            border: 1px solid #E5E7EB;\n          }\n\n          .slider-labels {\n            display: flex;\n            justify-content: space-between;\n            font-size: 12px;\n            color: #003574;\n            padding: 0 2px;\n            font-weight: 500;\n          }\n\n          /* Section 3: Bottom Section */\n          .bottom-section {\n            margin-top: 16px;\n            padding: 20px;\n            background: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            position: relative;\n            border: 1px solid #E5E7EB;  \n            border-radius: 12px;\n            box-shadow: 0px 4.99px 6.24px 0px #0000000F;\n          }\n\n          .iraty-button {\n            background: transparent;\n            border: none;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            gap: 0;\n            padding: 0;\n            transition: opacity 0.2s ease;\n            text-align: center;\n          }\n\n          .iraty-button:hover {\n            opacity: 0.8;\n          }\n\n          .iraty-logo {\n            display: flex;\n            align-items: center;\n            gap: 8px;\n          }\n\n          .iraty-logo-icon {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            flex-shrink: 0;\n            height: 24px;\n          }\n\n          .iraty-logo-icon svg {\n            width: auto;\n            height: 100%;\n          }\n\n          .iraty-text {\n            font-size: 14px;\n            font-weight: 400;\n            color: black;\n            margin: 0;\n            white-space: nowrap;\n          }\n\n          .iraty-arrow {\n            width: 16px;\n            height: 16px;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            margin-left: 4px;\n            flex-shrink: 0;\n          }\n\n          .iraty-arrow svg {\n            width: 100%;\n            height: 100%;\n          }\n\n          .badge {\n            position: absolute;\n            bottom: -5px;\n            right: 0px;\n            background: #003574;\n            color: white;\n            padding: 10px 16px;\n            border-radius: 20px;\n            font-size: 12px;\n            font-weight: 600;\n            white-space: nowrap;\n            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);\n          }\n\n          .badge.hidden {\n            display: none;\n          }\n        </style>\n        <div class="calculator-container">\n          \x3c!-- Section 1: Tabs --\x3e\n          <div class="tabs-section">\n            <div class="tabs">\n              <button class="tab ${"individual"===this.clientType?"active":""}" data-tab="individual">\n                <span class="tab-icon">\n  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z" fill="currentColor"/>\n    <path d="M8 9C5.23858 9 3 11.2386 3 14V15H13V14C13 11.2386 10.7614 9 8 9Z" fill="currentColor"/>\n  </svg>\n</span>\n                <span>Klient indywidualny</span>\n              </button>\n              <button class="tab ${"business"===this.clientType?"active":""}" data-tab="business">\n                <span class="tab-icon">\n  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M5 3V2C5 1.44772 5.44772 1 6 1H10C10.5523 1 11 1.44772 11 2V3H14C14.5523 3 15 3.44772 15 4V13C15 13.5523 14.5523 14 14 14H2C1.44772 14 1 13.5523 1 13V4C1 3.44772 1.44772 3 2 3H5ZM6 2V3H10V2H6Z" fill="currentColor"/>\n  </svg>\n</span>\n                <span>Klient firmowy</span>\n              </button>\n            </div>\n          </div>\n\n          \x3c!-- Section 2: Monthly Rate Section --\x3e\n          <div class="rate-section">\n            <div class="rate-title">Dopasuj miesięczną ratę</div>\n            <div class="monthly-rate">${this.formatCurrency(t)} zł</div>\n            \n            \x3c!-- Slider --\x3e\n            <div class="slider-container">\n              <div class="slider-wrapper" style="--slider-progress: ${e}%">\n                <input \n                  type="range" \n                  class="slider" \n                  min="6" \n                  max="60" \n                  value="${this.months}"\n                  step="1"\n                />\n                <div class="slider-tooltip" style="left: ${e}%">${this.months}</div>\n              </div>\n              <div class="slider-labels">\n                <span>6</span>\n                <span>60</span>\n              </div>\n            </div>\n          </div>\n\n          \x3c!-- Section 3: Bottom Section --\x3e\n          <div class="bottom-section">\n            <button class="iraty-button">\n              <div class="iraty-logo">\n                <div class="iraty-logo-icon">${n}</div>\n                <span class="iraty-text">Przejdź dalej</span>\n                <div class="iraty-arrow">\n  <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n    <path d="M6 12L10 8L6 4" stroke="#10B981" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\n  </svg>\n</div>\n              </div>\n            </button>\n            ${i?`<div class="badge">${this.months} rat 0%</div>`:""}\n          </div>\n        </div>\n      `}attributeChangedCallback(){this.shadowRoot&&(this.render(),this.addEventListeners())}}customElements.define("ipay-calculator",o);export{o as IpayCalculator};
//# sourceMappingURL=ipay-calculator.js.map
