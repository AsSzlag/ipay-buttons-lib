{"version":3,"file":"ipay-bubble.js","sources":["../../src/components/ipay-bubble.js"],"sourcesContent":["import { BaseIpayButton } from '../shared/base-button.js';\nimport { buttonBaseStyles, variantStyles } from '../shared/styles.js';\nimport { bubbleLogo } from '../shared/bubbleLogo.js';\n\nconst BASE_URL = 'https://app.ipay-dev.host06.300devs.com';\nconst TARGET_URL = `${BASE_URL}/new-individual-application`;\n\nclass IpayBubble extends HTMLElement {\n  static get observedAttributes() {\n    return ['id', 'price', 'url', 'count', 'name', 'email', 'phone', 'delivery_price', 'product_id'];\n  }\n\n  constructor() {\n    super();\n    this.attachShadow({ mode: 'open' });\n  }\n\n  connectedCallback() {\n    this.render();\n    this.addEventListeners();\n  }\n\n  addEventListeners() {\n    const popup = this.shadowRoot.querySelector('.popup');\n    const closeButton = this.shadowRoot.querySelector('.close-button');\n\n    if (popup) {\n      popup.addEventListener('click', () => {\n        this.handleClick();\n      });\n    }\n\n    if (closeButton) {\n      closeButton.addEventListener('click', (e) => {\n        e.stopPropagation();\n        this.closePopup();\n      });\n    }\n  }\n\n  closePopup() {\n    this.style.display = 'none';\n  }\n\n  handleClick() {\n    // Get all attributes\n    const id = this.getAttribute('id');\n    const price = this.getAttribute('price');\n    const count = this.getAttribute('count');\n    const url = this.getAttribute('url');\n    const name = this.getAttribute('name');\n    const email = this.getAttribute('email');\n    const phone = this.getAttribute('phone');\n    const delivery_price = this.getAttribute('delivery_price');\n    const product_id = this.getAttribute('product_id');\n\n    // Build query parameters\n    const params = new URLSearchParams();\n    if (id) params.append('id', id);\n    if (price) params.append('price', price);\n    if (count) params.append('count', count);\n    if (url) params.append('url', url);\n    if (name) params.append('name', name);\n    if (email) params.append('email', email);\n    if (phone) params.append('phone', phone);\n    if (delivery_price) params.append('delivery_price', delivery_price);\n    if (product_id) params.append('product_id', product_id);\n\n    // Navigate to URL with parameters\n    const targetUrl = `${TARGET_URL}?${params.toString()}`;\n    window.open(targetUrl, '_blank');\n  }\n\n  render() {\n    this.shadowRoot.innerHTML = `\n        <style>\n          :host {\n            display: inline-block;\n            position: relative;\n          }\n\n          .popup {\n            background: white;\n            border-radius: 12px;\n            padding: 16px 24px;\n            cursor: pointer;\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);\n            width: 124px;\n            height: 86px;\n            position: relative;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            // gap: 16px;\n          }\n\n          .popup:hover {\n            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.2);\n            transform: translateY(-2px);\n            transition: all 0.2s ease;\n          }\n\n          .close-button {\n            position: absolute;\n            top: -8px;\n            right: -8px;\n            width: 32px;\n            height: 32px;\n            background: #003574;\n            border: none;\n            border-radius: 50%;\n            cursor: pointer;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 16px;\n            font-weight: bold;\n            transition: background-color 0.2s ease;\n          }\n\n          .close-button:hover {\n            background: #002147;\n          }\n\n          .green-logo {\n            width: 64px;\n            height: 64px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);\n          }\n\n          .green-logo svg {\n            width: 32px;\n            height: 32px;\n          }\n\n          .main-text {\n            font-size: 14px;\n            font-weight: 700;\n            color: #003574;\n            text-align: center;\n            margin: 0;\n            line-height: 1.2;\n          }\n        </style>\n        <div class=\"popup\">\n          <button class=\"close-button\" type=\"button\">Ã—</button>\n          <div class=\"logo\">\n            ${bubbleLogo}\n          </div>\n          <h2 class=\"main-text\">Kup na raty</h2>\n        </div>\n      `;\n  }\n\n  attributeChangedCallback() {\n    if (this.shadowRoot) {\n      this.render();\n      this.addEventListeners();\n    }\n  }\n}\n\n// Register the component\ncustomElements.define('ipay-bubble', IpayBubble);\n\n// Export for module usage\nexport { IpayBubble };"],"names":["IpayBubble","HTMLElement","observedAttributes","constructor","super","this","attachShadow","mode","connectedCallback","render","addEventListeners","popup","shadowRoot","querySelector","closeButton","addEventListener","handleClick","e","stopPropagation","closePopup","style","display","id","getAttribute","price","count","url","name","email","phone","delivery_price","product_id","params","URLSearchParams","append","targetUrl","toString","window","open","innerHTML","attributeChangedCallback","customElements","define"],"mappings":"AAOA,MAAMA,UAAmBC,YACvB,6BAAWC,GACT,MAAO,CAAC,KAAM,QAAS,MAAO,QAAS,OAAQ,QAAS,QAAS,iBAAkB,aACpF,CAED,WAAAC,GACEC,QACAC,KAAKC,aAAa,CAAEC,KAAM,QAC3B,CAED,iBAAAC,GACEH,KAAKI,SACLJ,KAAKK,mBACN,CAED,iBAAAA,GACE,MAAMC,EAAQN,KAAKO,WAAWC,cAAc,UACtCC,EAAcT,KAAKO,WAAWC,cAAc,iBAE9CF,GACFA,EAAMI,iBAAiB,QAAS,KAC9BV,KAAKW,gBAILF,GACFA,EAAYC,iBAAiB,QAAUE,IACrCA,EAAEC,kBACFb,KAAKc,cAGV,CAED,UAAAA,GACEd,KAAKe,MAAMC,QAAU,MACtB,CAED,WAAAL,GAEE,MAAMM,EAAKjB,KAAKkB,aAAa,MACvBC,EAAQnB,KAAKkB,aAAa,SAC1BE,EAAQpB,KAAKkB,aAAa,SAC1BG,EAAMrB,KAAKkB,aAAa,OACxBI,EAAOtB,KAAKkB,aAAa,QACzBK,EAAQvB,KAAKkB,aAAa,SAC1BM,EAAQxB,KAAKkB,aAAa,SAC1BO,EAAiBzB,KAAKkB,aAAa,kBACnCQ,EAAa1B,KAAKkB,aAAa,cAG/BS,EAAS,IAAIC,gBACfX,GAAIU,EAAOE,OAAO,KAAMZ,GACxBE,GAAOQ,EAAOE,OAAO,QAASV,GAC9BC,GAAOO,EAAOE,OAAO,QAAST,GAC9BC,GAAKM,EAAOE,OAAO,MAAOR,GAC1BC,GAAMK,EAAOE,OAAO,OAAQP,GAC5BC,GAAOI,EAAOE,OAAO,QAASN,GAC9BC,GAAOG,EAAOE,OAAO,QAASL,GAC9BC,GAAgBE,EAAOE,OAAO,iBAAkBJ,GAChDC,GAAYC,EAAOE,OAAO,aAAcH,GAG5C,MAAMI,EAAY,sEAAiBH,EAAOI,aAC1CC,OAAOC,KAAKH,EAAW,SACxB,CAED,MAAA1B,GACEJ,KAAKO,WAAW2B,UAAY,6tNAqF7B,CAED,wBAAAC,GACMnC,KAAKO,aACPP,KAAKI,SACLJ,KAAKK,oBAER,EAIH+B,eAAeC,OAAO,cAAe1C"}